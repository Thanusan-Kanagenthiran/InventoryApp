<!DOCTYPE html>
<html xmlns:th=http://www.thymeleaf.org>

<head>
	<meta charset="ISO-8859-1">
	<title>add user page</title>
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">

</head>

<body class="bg-dark p-2 text-dark bg-opacity-10">
	<div th:replace="fragments :: menu"></div>
	<div class="row">
		<div class="col-3 mt-5 border">
			<ul class="list-group list-group-flush mt-4 ms-3 px-4">
				<li class="list-group-item mb-4">
					<a class="list-group-item " th:href=@{/categories}>Categories</a>
				</li>
				<li class="list-group-item mb-4">
					<a class="list-group-item " th:href=@{/products}>Products</a>
				</li>
				<li class="list-group-item mb-4">
					<a class="list-group-item " th:href=@{/brands}>Brands</a>
				</li>
				<li class="list-group-item mb-4">
					<a class="list-group-item " th:href=@{/users}>Users</a>
				</li>
			</ul>
		</div>
		<div class="col-8 mt-5">
			<div class="container mt-5 ">
				<div class="row justify-content-center ">

					<form th:action="@{/users/save}" method="post" th:object=${user} class="border px-4 py-4"
						style="max-width: 450px;">

						<div class="mb-4">
							<div th:if="${user.id == null}">
								<h4>Create new User</h4>
							</div>
							<div th:unless="${user.id == null}">
								<h4>Edit users</h4>
							</div>
						</div>

						<input th:field="*{id}" type="hidden" />
						<div class="row mb-3">
							<label class="col-sm-4 col-form-label">user email</label>
							<div class="col-sm-8">
								<input type="email" th:field="*{email}" class="form-control" required>
							</div>
						</div>
						<div class="row mb-3">
							<label class="col-sm-4 col-form-label">user firstname</label>
							<div class="col-sm-8">
								<input type="text" th:field="*{firstname}" class="form-control" required>
							</div>
						</div>
						<div class="row mb-3">
							<label class="col-sm-4 col-form-label">user lastname</label>
							<div class="col-sm-8">
								<input type="text" th:field="*{lastname}" class="form-control" required>
							</div>
						</div>
						<div class="row mb-3">
							<label class="col-sm-4 col-form-label">user password</label>
							<div class="col-sm-8">
								<input type="password" th:field="*{password}" class="form-control" required>
							</div>
						</div>
						<fieldset class="row mb-3">
							<legend class="col-form-label col-sm-4 pt-0">Roles</legend>
							<div class="col-sm-6">
								<th:block th:each="role : ${listRoles}">
									<div>
										<input class="ms-3" type="checkbox" th:field="*{roles}" th:text="${role.name}"
											th:value="${role.id}" />
									</div>
								</th:block>
							</div>
						</fieldset>
						<div class="text-end">
							<button class="btn rounded-pill px-4 btn-primary" type="submit">save</button>
						</div>
					</form>

				</div>
			</div>
		</div>
	</div>


</body>

</html>